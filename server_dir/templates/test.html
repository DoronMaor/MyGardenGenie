<!DOCTYPE html>
<html>
  <head>
    <title>Server Handler SockIO Demo</title>
    <script
      src="https://cdn.socket.io/3.1.3/socket.io.min.js"
      integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh"
      crossorigin="anonymous"
    ></script>
    <script src="{{url_for('static', filename='ServerHandler.js')}}"></script>

    <script>
      var server_handler = new ServerHandlerSockIO("127.0.0.1", 5000);
      var current_plant = "A";
      server_handler.login("2", "2");
    </script>
  </head>

  <body>
    <h1>Plant Monitoring</h1>
    <button id="remote-mode">Start Remote Mode</button>
    <button id="video-mode">Start Video Mode</button>
    <button id="switch-plant">Switch Plant</button>
    <input type="text" hidden value="A">


    <div id="remote-actions" style="display: none">
      <h2>Remote Actions</h2>
      <button id="display-text">display_text</button>
      <button id="get-moisture">get_moisture</button>
      <button id="led-ring">led_ring</button>
      <button id="add-water">add_water</button>
      <button id="get-light-level">get_light_level</button>
      <button id="change-automatic">change_automatic</button>
      <button id="remote-stop">remote_stop</button>
    </div>
    <div id="video-actions" style="display: none">
      <h2>Video Actions</h2>
      <button id="stream-start">stream_start</button>
      <button id="stream-stop">stream_stop</button>
    </div>
  </body>
  <script>
    const remoteModeBtn = document.querySelector("#remote-mode");
    const videoModeBtn = document.querySelector("#video-mode");
    const switchPlantBtn = document.querySelector("#switch-plant");
    const remoteActions = document.querySelector("#remote-actions");
    const videoActions = document.querySelector("#video-actions");

    remoteModeBtn.addEventListener("click", () => {
      remoteActions.style.display = "block";
      server_handler.start_remote_mode();
    });

    document.getElementById("get-moisture").addEventListener("click", () => {
      server_handler.get_moisture(current_plant);
    });

    /*
          videoModeBtn.addEventListener("click", () => {
      videoActions.style.display = "block";
    });
    document
      .getElementById("display-text")
      .addEventListener("click", function () {
        display_text(current_plant);
      });



    document.getElementById("led-ring").addEventListener("click", function() {
      led_ring(current_plant);
    });

    document.getElementById("add-water").addEventListener("click", function() {
      add_water(current_plant);
    });

    document.getElementById("get-light-level").addEventListener("click", function() {
      get_light_level(current_plant);
    });

    document.getElementById("change-automatic").addEventListener("click", function() {
      change_automatic(current_plant);
    });

    document.getElementById("remote-stop").addEventListener("click", function() {
      remote_stop(current_plant);
    });*/
  </script>
</html>
